<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Parser | PHION</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Documentation for PHION Rice Package Manager">
    
    <link rel="preload" href="/assets/css/0.styles.caa88a3a.css" as="style"><link rel="preload" href="/assets/js/app.d951a0bc.js" as="script"><link rel="preload" href="/assets/js/2.b27a9c4d.js" as="script"><link rel="preload" href="/assets/js/8.5da97ef5.js" as="script"><link rel="prefetch" href="/assets/js/10.7e739373.js"><link rel="prefetch" href="/assets/js/11.87b9b95b.js"><link rel="prefetch" href="/assets/js/3.40a9edb9.js"><link rel="prefetch" href="/assets/js/4.a5a0bdc3.js"><link rel="prefetch" href="/assets/js/5.79cfe1c9.js"><link rel="prefetch" href="/assets/js/6.0b854729.js"><link rel="prefetch" href="/assets/js/7.95dbb1bb.js"><link rel="prefetch" href="/assets/js/9.12d52dc9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.caa88a3a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">PHION</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/PHION-pm/cli/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/phion-pm/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/PHION-pm/cli/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/phion-pm/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Introduction.html" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Packaging</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Packaging/package_structure.html" class="sidebar-link">Package Structure</a></li><li><a href="/Packaging/Parsers.html" aria-current="page" class="active sidebar-link">Parsers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Packaging/Parsers.html#working-of-parser" class="sidebar-link">Working of Parser</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Support</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Support/Overview.html" class="sidebar-link">Overview</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="parser"><a href="#parser" class="header-anchor">#</a> Parser</h1> <p>Since our packaging files will have a set structure, we would also require a parser to read such files and then add them to PHION rice list or in other words, extract it.</p> <p>The <code>phion.parser</code> module will provide such functionality. It would have a separate GUI as well CLI driven layouts. Running arguments such as</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ phion-parser <span class="token string">&quot;path/to/package.phkg&quot;</span>
</code></pre></div><p>Should result in the extraction of the package to <code>$HOME/.config/phion/rices</code> directory. This directory is checked by PHIOS for extracted packages which would then show up in the rices list.
Doing so will add this to <code>rices.db</code> which will most likely use sqlite3. This database file will be modified by the parser with the relative database changes. This means that simply adding a folder to the won't do anything until the database is updated.
This will be expanded upon more in the database section.</p> <h2 id="working-of-parser"><a href="#working-of-parser" class="header-anchor">#</a> Working of Parser</h2> <p>There are only 3 main functions of parser. <strong>Extraction</strong>, <strong>verification</strong> and <strong>updation</strong> <em>(Yes that's a valid word, I checked)</em>.</p> <blockquote><p>**Note: ** The parser will note be handling the installation process of rices.</p></blockquote> <h3 id="extraction"><a href="#extraction" class="header-anchor">#</a> Extraction</h3> <p>Extraction includes extracting the files to the <code>phion/rices</code> directory. The following can be the possible error cases during extraction:</p> <ul><li>In case the folder is not present, the parser will recheck the installation of PHION and then create a folder for it, which shouldn't happen in a normal installation.</li> <li>Absence of read/write permissions.</li> <li>If somehow, the <code>.phkg</code> has invalid headers or the script is not able to extract, then it will give show the required error as well.</li></ul> <h3 id="verification"><a href="#verification" class="header-anchor">#</a> Verification</h3> <p>Before updating the database we need to make sure that the structure of the parser matches that of the <a href="/Packaging/package_structure.html">boilerplate  <code>.phkg</code></a>. This includes checking each for each file, searching for redundant and missing files, etc.
The next sub-step would be to try and read the PHION config file (<code>.phn</code>). This would be a pickle dump and so, would be handled by the pickle module. More about this config file will be explained in another section.
Error cases:</p> <ul><li>The <code>.phn</code> file would be read first. If this file turns out to be empty or corrupted (commonly by editing it in a text editor) then the rice will not be added.</li> <li>In case there are redundant files, the user will be warned about them and as per the choice, they will most likely be deleted.</li></ul> <blockquote><p>**NOTE: ** In case there are multiple files in WM folders or program folders, they will not be considered as redundant files as long as they are mentioned in the <code>.phn</code> config file.</p></blockquote> <ul><li>If the files specified in the config are not found, then the user will be given a warning about the package being broken but the user will still have the ability to add the rice to the database.</li></ul> <h3 id="updation"><a href="#updation" class="header-anchor">#</a> Updation</h3> <p>This process is fairly straightforward. After the package's integrity is verified, we can then add it to our collection's database. The metadata for the package will be read from the config file and then added to the data tables accordingly.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/phion-pm/documentation/edit/master/Packaging/Parsers.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/6/2022, 10:46:13 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Packaging/package_structure.html" class="prev">
        Package Structure
      </a></span> <span class="next"><a href="/Support/Overview.html">
        Overview
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d951a0bc.js" defer></script><script src="/assets/js/2.b27a9c4d.js" defer></script><script src="/assets/js/8.5da97ef5.js" defer></script>
  </body>
</html>
